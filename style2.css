/* --- 1. 基本設定とフォント --- */
@import url('https://fonts.googleapis.com/css?family=Exo:400,700');

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    width: 100%;
    height: 100%;
    font-family: 'Exo', sans-serif;
    color: #ffffff;
    overflow: hidden; /* オープニング演出のため、最初はスクロール禁止 */
}

/* --- 2. 背景アニメーション (変更なし) --- */
.area {
    background: #141E30;
    background: -webkit-linear-gradient(to left, #243B55, #141E30);
    width: 100%;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    z-index: -1;
}

.circles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.circles li {
    position: absolute;
    display: block;
    list-style: none;
    width: 20px;
    height: 20px;
    background: rgba(46, 204, 113, 0.2);
    animation: animate 25s linear infinite;
    bottom: -150px;
}
.circles li:nth-child(1){ left: 25%; width: 80px; height: 80px; animation-delay: 0s; }
.circles li:nth-child(2){ left: 10%; width: 20px; height: 20px; animation-delay: 2s; animation-duration: 12s; }
.circles li:nth-child(3){ left: 70%; width: 20px; height: 20px; animation-delay: 4s; }
.circles li:nth-child(4){ left: 40%; width: 60px; height: 60px; animation-delay: 0s; animation-duration: 18s; }
.circles li:nth-child(5){ left: 65%; width: 20px; height: 20px; animation-delay: 0s; }
.circles li:nth-child(6){ left: 75%; width: 110px; height: 110px; animation-delay: 3s; }
.circles li:nth-child(7){ left: 35%; width: 150px; height: 150px; animation-delay: 7s; }
.circles li:nth-child(8){ left: 50%; width: 25px; height: 25px; animation-delay: 15s; animation-duration: 45s; }
.circles li:nth-child(9){ left: 20%; width: 15px; height: 15px; animation-delay: 2s; animation-duration: 35s; }
.circles li:nth-child(10){ left: 85%; width: 150px; height: 150px; animation-delay: 0s; animation-duration: 11s; }

@keyframes animate {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; border-radius: 0; }
    100% { transform: translateY(-1000px) rotate(720deg); opacity: 0; border-radius: 50%; }
}

/* --- 3. オープニング演出とレイアウト --- */
#app-wrapper {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    visibility: hidden;
}
#app-wrapper.visible {
    opacity: 1;
    transform: translateY(0);
    visibility: visible;
}

.logo-wrapper {
    /* 初期状態：画面中央に固定 */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    max-width: 380px;
    z-index: 100;
    transition: all 0.8s cubic-bezier(0.45, 0, 0.55, 1); /* 移動を滑らかに */
}
.logo-wrapper.in-place {
    /* 最終状態：コンテンツ上部に配置 */
    position: relative;
    top: 0;
    left: 0;
    transform: none;
    margin: 0 auto 40px auto;
    padding-top: 40px;
}

.container {
    display: flex;
    padding: 0 20px 20px 20px;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
}
.main-content { flex: 9; padding-right: 20px; }
.sidebar { flex: 1; }

/* --- 4. ロゴのスタイル (変更なし) --- */
.logo-wrapper #logo-webbab { overflow: visible; }
.logo-wrapper #logo-webbab .word { fill: #FFFFFF; opacity: 0; }
.logo-wrapper #logo-webbab #mask #alpha { fill: #FFFFFF; }
.logo-wrapper #iso { fill: #FFFFFF; opacity: 0; mask: url(#mask); }

/* --- 5. コンテンツブロック (グラスモーフィズム) --- */
.content-block {
    background: rgba(255, 255, 255, 0.1); /* 光沢感のある背景 */
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    margin-bottom: 25px;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
#draggable-container .content-block { cursor: move; }

/* --- 6. アコーディオンとテキストスタイル --- */
.accordion-header {
    font-size: 1.5em;
    color: #2ecc71; /* 緑色 */
    padding: 20px;
    cursor: pointer;
    position: relative;
    transition: background-color 0.3s ease;
}
.accordion-header:hover {
    background-color: rgba(46, 204, 113, 0.1);
}
.accordion-header::after {
    content: '+';
    font-size: 1.8em;
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    transition: transform 0.5s ease;
}
.accordion-header.active::after {
    transform: translateY(-50%) rotate(45deg);
}

.accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 0 20px;
}
.accordion-content ul {
    list-style: none;
    padding: 20px 0;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}
.accordion-content li { margin-bottom: 20px; }
.accordion-content h3 { font-size: 1.2em; margin-bottom: 8px; color: #ffffff; }
.accordion-content p { font-size: 0.95em; line-height: 1.6; opacity: 0.9; margin-bottom: 8px; }
.accordion-content a { color: #2ecc71; font-weight: bold; text-decoration: none; }
.accordion-content a:hover { text-decoration: underline; }

/* --- 7. サイドバーのスタイル --- */
.sidebar .content-block { padding: 20px; }
.sidebar h2 { font-size: 1.5em; color: #2ecc71; margin-bottom: 15px; }
.sidebar ul { list-style: none; }
.sidebar li a {
    display: block;
    padding: 12px;
    margin-bottom: 10px;
    background-color: rgba(46, 204, 113, 0.2);
    border-radius: 8px;
    text-align: center;
    color: #ffffff;
    font-weight: bold;
    text-decoration: none;
    transition: background-color 0.3s ease, transform 0.3s ease;
}
.sidebar li a:hover { background-color: #2ecc71; transform: scale(1.05); }

/* --- 8. ホバーアニメーション --- */
@keyframes ca__fx-vibration {
    0% { transform: translate(0, 0); }
    25% { transform: translate(2px, 2px); }
    50% { transform: translate(-2px, -2px); }
    75% { transform: translate(2px, -2px); }
    100% { transform: translate(0, 0); }
}
/* activeクラスが付いていない（閉じている）ヘッダーのホバー時のみ適用 */
.accordion-header:not(.active):hover {
    animation: ca__fx-vibration 0.2s linear;
}
